<% run_cols_to_show = 0%>

<table align="center" class="grandprix-table">
	<tr>
		<th>Nombre</th>
		<th>Acumulado</th>
		<% 1.upto(24) do |i| %>
			<% unless grandprix.send(:"name#{i}").empty? %>
				<th><%=h grandprix.send(:"name#{i}")%></th>
				<% run_cols_to_show = i %>
			<% end %>
		<% end %>
	</tr>

    <% if gp_datas.length > 0 %>
        <% gp_datas.each do |gpd| %>
            <tr>
                <td style="text-align:left;"><%=h gpd.name_short %></td>
                <td><%=h gpd.accum %></td>

                <% 1.upto(run_cols_to_show) do |i| %>
                    <td><%= gpd.send(:"particip#{i}") ? "<img width='15px' src='/images/ok.png' />" : "" %></td>
                <% end %>

            </tr>
        <% end %>
    <% else %>
        <tr>
          <td colspan="4" style="padding:15px; font-style:italic;">No se encontr√≥ nada.<br/>Otro intento por favor.</td>
        </tr>
    <% end %>

</table>